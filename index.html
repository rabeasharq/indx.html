<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>دورة الذكاء الاصطناعي في التعليم - مدرسة إشراق اليمن</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #4e54c8;
            --primary-light: #8f94fb;
            --secondary: #2c3e50;
            --accent: #ff7e5f;
            --light: #f0f2ff;
            --white: #ffffff;
            --muted: #5d7599;
            --success: #27ae60;
            --warning: #e67e22;
            --danger: #e74c3c;
            --radius: 18px;
            --shadow: 0 6px 25px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
            --gradient: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            --gradient-accent: linear-gradient(135deg, var(--accent) 0%, #feb47b 100%);
        }
        /* --- Reset and body --- */
        * {margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI','Tahoma','Arial',sans-serif;}
        body {
            background: linear-gradient(135deg, var(--light) 0%, #e1effa 100%);
            color: var(--secondary);
            min-height:100vh;
        }
        .container {
            max-width: 1500px; margin:0 auto; padding:20px;
        }
        /* --- Header --- */
        header {
            background: var(--white); border-radius: var(--radius); padding:30px 40px; margin-bottom:30px;
            box-shadow: var(--shadow); text-align:center; position:relative; overflow:hidden;
            animation: headerSlide 1s ease-out;
        }
        @keyframes headerSlide {
            from { transform: translateY(-30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        header::before {
            content:''; position:absolute; top:0; right:0; width:100%; height:5px;
            background: var(--gradient);
        }
        .school-badge {
            display:inline-flex; align-items:center; gap:10px;
            background:var(--light); padding:8px 20px; border-radius:30px; margin-bottom:15px;
            font-weight:600; color:var(--primary);
            animation: badgePulse 2s infinite;
        }
        @keyframes badgePulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        header h1 { 
            color:var(--primary); 
            font-size:2.4rem; 
            margin-bottom:10px; 
            font-weight:800; 
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        header p { color:var(--muted); font-size:1.2rem; max-width:900px; margin:0 auto 15px; }
        .trainer-info {
            display:inline-flex; align-items:center; gap:10px;
            background: #fff8e6; padding:8px 20px; border-radius:30px; font-weight:600; color:var(--warning);
            border: 1px solid rgba(243,156,18,0.2);
        }
        /* --- Progress/pro interface --- */
        .progress-bar { height:8px; background:#e1effb; border-radius:4px; overflow:hidden; margin-bottom:25px; }
        .progress { height:100%; background:var(--gradient); width:0%; 
            transition: width 0.5s ease; border-radius:4px;}
        .slides-nav { display:flex; justify-content:center; flex-wrap:wrap; gap:12px; margin-bottom:25px;}
        .nav-dot {width:16px;height:16px; border-radius:50%; background:#ddd;cursor:pointer;transition:var(--transition);}
        .nav-dot.active {background:var(--primary);transform:scale(1.3);box-shadow:0 0 0 3px rgba(44, 90, 160, 0.2);}
        /* --- Slides Layout --- */
        .main-content { display:flex; gap:30px; margin-bottom:40px;}
        @media (max-width: 1200px) {.main-content{flex-direction:column;}}
        .slides-container { flex:1; background:var(--white); border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden;}
        .slide {padding: 35px 40px; display:none; height:100%; overflow-y:auto;}
        .slide.active {display:block; animation:fadeIn 0.5s;}
        @keyframes fadeIn { from{opacity:0;transform:translateY(15px);} to{opacity:1;transform:translateY(0);} }
        .slide-header {
            display:flex;justify-content:space-between;align-items:center;
            margin-bottom:25px;padding-bottom:20px;border-bottom:2px solid #e1effb;
        }
        .slide h2 {color:var(--primary);font-size:1.8rem;font-weight:800;}
        .slide-time { font-size:1.1rem;color:var(--muted);font-weight:600;background:#f0f7ff;
            padding:8px 15px;border-radius:30px;}
        .slide-content { font-size:1.15rem;}
        /* --- Activity/box --- */
        .activity-card,.concept-card {
            background:#f7fbff; border:1px solid rgba(44,90,160,0.1); border-radius:15px;
            padding:25px; margin:25px 0; box-shadow:0 4px 15px rgba(0,0,0,0.03);
            transition: var(--transition);
        }
        .activity-card:hover, .concept-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .activity-card h3, .concept-card h3 {
            color:var(--primary); margin-bottom:18px; font-size:1.25rem; display:flex;align-items:center;gap:10px;
        }
        .input-group label { display:block; margin-bottom:8px; font-weight:600; color:var(--secondary);}
        input, textarea, select {
            width:100%; padding:12px 15px; border:1px solid #ddd; border-radius:9px; font-size:1.05rem;
            transition:var(--transition); background:var(--white);}
        input:focus, textarea:focus, select:focus {
            outline:none; border-color:var(--primary); box-shadow:0 0 0 3px rgba(44,90,160,0.1);
        }
        button { 
            background:var(--gradient); 
            color:white; 
            border:none; 
            padding:13px 21px; 
            border-radius:9px; 
            cursor:pointer; 
            font-size:1.05rem; 
            font-weight:600; 
            transition:var(--transition);
            position: relative;
            overflow: hidden;
        }
        button:hover{
            transform:translateY(-3px);
            box-shadow:0 7px 15px rgba(44,90,160,0.2);
        }
        button:after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255,255,255,0.1);
            transform: translateX(-100%);
            transition: transform 0.3s;
        }
        button:hover:after {
            transform: translateX(100%);
        }
        .output-box { background:#e8f5ff; border-radius:8px; padding:14px; margin-top:12px; max-height:220px; overflow-y:auto; border-right:4px solid var(--primary-light);}
        .tip-box {
            background:#e8f6ef; 
            border-radius:10px; 
            padding:13px; 
            margin:11px 0; 
            border-right:4px solid var(--success);
            animation: tipPulse 3s infinite;
        }
        @keyframes tipPulse {
            0% { box-shadow: 0 0 0 0 rgba(39, 174, 96, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(39, 174, 96, 0); }
            100% { box-shadow: 0 0 0 0 rgba(39, 174, 96, 0); }
        }
        .tip-box i {color:var(--success);margin-left:8px;}
        .concept-card {background:#f2effd;border-right:4px solid #8e44ad;}
        .concept-title {color:#8e44ad;font-weight:bold;}
        
        /* --- Teacher Support Section --- */
        .teacher-support {
            background: #fff8f0;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            border-right: 4px solid var(--accent);
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }
        .teacher-support h3 {
            color: var(--accent);
            margin-bottom: 18px;
            font-size: 1.25rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .support-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .support-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            transition: var(--transition);
        }
        .support-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .support-item h4 {
            color: var(--primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* --- Challenge Section --- */
        .challenge-card {
            background: #fff0f0;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            border-right: 4px solid var(--danger);
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }
        .challenge-card h3 {
            color: var(--danger);
            margin-bottom: 18px;
            font-size: 1.25rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .solution-card {
            background: #f0fff0;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            border-right: 4px solid var(--success);
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }
        .solution-card h3 {
            color: var(--success);
            margin-bottom: 18px;
            font-size: 1.25rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* --- Evaluation Section --- */
        .evaluation-card {
            background: #fff8f0;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            border-right: 4px solid var(--accent);
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }
        .evaluation-card h3 {
            color: var(--accent);
            margin-bottom: 18px;
            font-size: 1.25rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin: 15px 0;
        }
        .quiz-option {
            padding: 12px 15px;
            background: #fff;
            border: 2px solid #e1e1e1;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
        }
        .quiz-option:hover {
            border-color: var(--primary-light);
            background: #f0f7ff;
        }
        .quiz-option.selected {
            border-color: var(--primary);
            background: #e8f5ff;
        }
        .quiz-submit {
            background: var(--gradient-accent);
            margin-top: 15px;
        }
        
        /* --- Results and Charts --- */
        .results-panel {
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 20px;
            margin-top: 20px;
        }
        .results-panel h3 {
            color: var(--primary);
            margin-bottom: 15px;
            text-align: center;
        }
        .chart-container {
            position: relative;
            height: 300px;
            margin: 20px 0;
        }
        .score-display {
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            margin: 20px 0;
            color: var(--primary);
        }
        .score-progress {
            height: 20px;
            background: #e1effb;
            border-radius: 10px;
            overflow: hidden;
            margin: 15px 0;
        }
        .score-progress-bar {
            height: 100%;
            background: var(--gradient);
            border-radius: 10px;
            transition: width 0.5s ease;
        }
        
        /* --- Grade Resources --- */
        .grade-selector {margin-bottom:15px;}
        .grade-resources {display:none;}
        .grade-resources.active {display:block;}
        .resource-link {display:block;padding:10px;background:#f0f7ff;margin-bottom:8px;border-radius:8px;text-decoration:none;color:var(--secondary);transition:var(--transition);}
        .resource-link:hover {background:#e1effb;transform:translateX(-3px);}
        
        /* --- Tools Panel for tips or quick tools --- */
        .tools-panel { width:370px; background:var(--white); border-radius:var(--radius);box-shadow:var(--shadow);padding:20px;display:flex;flex-direction:column;gap:20px;}
        @media (max-width: 1200px) {.tools-panel{width:100%;}}
        .panel-section {background:#f9fbff;border-radius:14px;padding:15px;box-shadow:0 4px 12px rgba(0,0,0,0.03);}
        .panel-section h3{color:var(--primary);margin-bottom:10px;font-size:1.1rem;}
        .tool-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:11px;}
        .tool-item{
            background:#f0f7ff;
            padding:10px;
            border-radius:8px;
            text-align:center;
            transition:var(--transition);
            cursor: pointer;
        }
        .tool-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            background: var(--gradient);
            color: white;
        }
        .footer{text-align:center;color:var(--muted);padding:18px;font-size:1rem;background:var(--white);border-radius:var(--radius);box-shadow:var(--shadow);}
        
        /* Support Section */
        .support-section {background:#f0f9ff;padding:20px;border-radius:var(--radius);margin-top:20px;text-align:center;}
        .support-section h3 {color:var(--primary);margin-bottom:10px;}
        
        /* Interface: theme toggle + review */
        .theme-toggle {
            position:fixed; top:25px; left:25px; background:var(--gradient); color:white;
            border:none; width:45px;height:45px; border-radius:50%; display:flex;align-items:center;justify-content:center;
            cursor:pointer;box-shadow:var(--shadow);z-index:100; font-size:1.15rem;transition:var(--transition);}
        .theme-toggle:hover {transform:rotate(15deg);}
        .review-btn{
            position:fixed; top:80px; left:30px; background:var(--accent); color:white; border:none;
            border-radius:30px;transition:0.2s;padding:7px 23px;font-weight:bold;cursor:pointer;z-index:102;font-size:1.04rem;}
        .review-btn:hover{background:#d35400;transform:scale(1.04);}
        .review-panel{
            position:fixed; top:100px; left:30px; background:white; border:1px solid #eee; box-shadow:var(--shadow); border-radius:12px; max-height:80vh; overflow:auto; width:330px; padding:15px; z-index:999; display:none;
        }
        .review-panel.active{display:block;}
        .review-panel h3{margin-bottom:15px;color:var(--primary);}
        .slide-mini-list{list-style:none;padding:0;}
        .slide-mini-list li{margin:7px 0;padding:3px 10px;border-radius:8px;cursor:pointer;background:#f7f9ff;}
        .slide-mini-list li.active{background:var(--primary-light);color:white;}
        .slide-mini-list li:hover{background:#e1effb;}
        .review-panel button{margin-top:10px;}
        @media(max-width:700px){
            .container{padding:5px;}
            .slide{padding: 10px 6px;}
            .tools-panel{padding:10px;}
            header{padding:15px;}
        }
        
        /* Highlight for important text */
        .highlight {background:#fffacd;padding:2px 5px;border-radius:4px;font-weight:bold;}
        
        /* Group activity styling */
        .group-activity {background:#e8f4f8;border-radius:15px;padding:20px;margin:20px 0;}
        .group-activity h3 {color:#1a6a8d;display:flex;align-items:center;gap:10px;}
        
        /* Celebration animation */
        @keyframes celebrate {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        .celebrate {
            animation: celebrate 0.5s ease;
        }
        
        /* Fun elements */
        .fun-element {
            display: inline-block;
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
    </style>
</head>
<body>
    <button class="theme-toggle" id="themeToggle"><i class="fas fa-moon"></i></button>
    <button class="review-btn" id="reviewBtn">مراجعة الشرائح</button>
    <div class="review-panel" id="reviewPanel">
        <h3>مراجعة الشرائح وتبديلها</h3>
        <ul class="slide-mini-list" id="slideMiniList"></ul>
        <button onclick="closeReview()">إغلاق</button>
    </div>
    <div class="container">
        <header>
            <div class="school-badge">
                <i class="fas fa-school"></i>
                <span>مدرسة إشراق اليمن</span>
            </div>
            <h1>دورة الذكاء الاصطناعي في التعليم</h1>
            <p>دورة معمّقة لمعلمات وإداريات المدرسة من الصف الأول حتى التاسع:<br> نحو تعليم يمني حديث ومبدع باستخدام الذكاء الاصطناعي.</p>
            <div class="trainer-info"><i class="fas fa-chalkboard-teacher"></i> المدرب: إبراهيم متاش</div>
        </header>
        <div class="progress-bar"><div class="progress" id="progressBar"></div></div>
        <div class="slides-nav" id="slidesNav"></div>
        <div class="main-content">
            <div class="slides-container" id="slidesContainer">
                <!-- الشرائح يتم توليدها تلقائيا من الجافاسكريبت -->
            </div>
            <div class="tools-panel">
                <div class="panel-section">
                    <h3><i class="fas fa-toolbox"></i> أدوات ذكاء اصطناعي سريعة</h3>
                    <div class="tool-list">
                        <div class="tool-item">ChatGPT</div>
                        <div class="tool-item">Bing AI</div>
                        <div class="tool-item">Canva AI</div>
                        <div class="tool-item">Quillbot</div>
                        <div class="tool-item">ClassDojo</div>
                        <div class="tool-item">Kahoot</div>
                    </div>
                </div>
                <div class="panel-section">
                    <h3><i class="fas fa-info-circle"></i> تلميحات سريعة</h3>
                    <div class="tip-box"><i class="fas fa-bolt"></i> جربي صياغة طلبك بوضوح لتحصلي على نتائج قوية من الذكاء الاصطناعي.</div>
                </div>
                <div class="panel-section">
                    <h3><i class="fas fa-graduation-cap"></i> موارد للمراحل الدراسية</h3>
                    <div class="grade-selector">
                        <select id="gradeSelect">
                            <option value="all">جميع المراحل</option>
                            <option value="1-3">الصفوف 1-3</option>
                            <option value="4-6">الصفوف 4-6</option>
                            <option value="7-9">الصفوف 7-9</option>
                        </select>
                    </div>
                    <div class="grade-resources active" id="allResources">
                        <a href="#" class="resource-link">نموذج خطة درس ذكية</a>
                        <a href="#" class="resource-link">أنشطة تفاعلية للرياضيات</a>
                        <a href="#" class="resource-link">قوالب تواصل مع أولياء الأمور</a>
                    </div>
                    <div class="grade-resources" id="grade1-3Resources">
                        <a href="#" class="resource-link">أنشطة تفاعلية للصفوف الأولى</a>
                        <a href="#" class="resource-link">قصص تعليمية مخصصة</a>
                        <a href="#" class="resource-link">ألعاب تعليمية للقراءة والكتابة</a>
                    </div>
                    <div class="grade-resources" id="grade4-6Resources">
                        <a href="#" class="resource-link">تمارين تفاعلية للرياضيات</a>
                        <a href="#" class="resource-link">أنشطة علوم مبتكرة</a>
                        <a href="#" class="resource-link">مشاريع تعليمية جماعية</a>
                    </div>
                    <div class="grade-resources" id="grade7-9Resources">
                        <a href="#" class="resource-link">تمارين تحليلية متقدمة</a>
                        <a href="#" class="resource-link">مشاريع بحثية بسيطة</a>
                        <a href="#" class="resource-link">مواد إثرائية للموهوبات</a>
                    </div>
                </div>
                
                <div class="results-panel">
                    <h3><i class="fas fa-chart-line"></i> تقدمك في الدورة</h3>
                    <div class="score-display">
                        <span id="totalScore">0%</span>
                    </div>
                    <div class="score-progress">
                        <div class="score-progress-bar" id="scoreProgressBar" style="width: 0%"></div>
                    </div>
                    <div class="chart-container">
                        <canvas id="progressChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="support-section">
            <h3>دعم مستمر بعد انتهاء الدورة</h3>
            <p>مجموعة واتساب للمشاركة والتشاور - استشارات أسبوعية - تحديثات مستمرة</p>
        </div>
        
        <footer class="footer">جميع الحقوق محفوظة &copy; مدرسة إشراق اليمن - المدرب إبراهيم متاش 2025</footer>
    </div>
    <script>
        // الشرائح (المحتوى الاحترافي والمعرفي) - مع الإضافات الجديدة
        const slidesData = [
            {
                title: "الترحيب والأهداف",
                icon: "fa-handshake",
                time: "5 دقائق",
                content: `
        <p><strong>الهدف:</strong> استكشاف الفرص التعليمية للذكاء الاصطناعي وتحفيز النقاش حول التحديات.</p>
        <div class="activity-card">
          <h3><i class="fas fa-comments"></i> سؤال تمهيدي</h3>
          <p>ما أكثر مهمة تتمنين لو هناك من يساعدك فيها أثناء التدريس؟ هل تظنين أن الذكاء الاصطناعي قد يساعدك؟</p>
          <textarea placeholder="اكتبي مهمتك المتكررة أو توقعاتك من الدورة..." rows="2"></textarea>
        </div>
        <div class="tip-box"><i class="fas fa-lightbulb"></i>
        الذكاء الاصطناعي موجّه لخدمتكِ وتوفير وقتك، وليس لاستبدالكِ كمعلمة مبدعة!
        </div>
        `,
                evaluation: {
                    question: "ما هو الهدف الرئيسي من استخدام الذكاء الاصطناعي في التعليم حسب رأيك؟",
                    options: [
                        "استبدال المعلمين تماماً",
                        "مساعدة المعلمين وتوفير وقتهم",
                        "جعل التعليم أكثر تعقيداً",
                        "تقليل كلفة التعليم فقط"
                    ],
                    correctAnswer: 1
                }
            },
            {
                title: "التحديات التقنية للغة العربية والذكاء الاصطناعي",
                icon: "fa-language",
                time: "12 دقائق",
                content: `
        <div class="challenge-card">
            <h3><i class="fas fa-exclamation-triangle"></i> التحديات الرئيسية للغة العربية</h3>
            <div class="support-grid">
                <div class="support-item">
                    <h4><i class="fas fa-file-pdf"></i> مشكلة ملفات PDF العربية</h4>
                    <p>معظم أدوات الذكاء الاصطناعي لا تدعم إنشاء ملفات PDF باللغة العربية بشكل صحيح</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-image"></i> النصوص العربية في الصور</h4>
                    <p>صعوبة إنشاء صور تحتوي على نصوص عربية خالية من الأخطاء</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-database"></i> ضعف المصادر العربية</h4>
                    <p>قلة وجودة البيانات العربية المدربة عليها أنظمة الذكاء الاصطناعي</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-search"></i> احتكار البيانات</h4>
                    <p>احتكار شركات مثل جوجل للبيانات يحد من قدرة التطبيقات على تقديم معلومات حديثة</p>
                </div>
            </div>
        </div>

        <div class="solution-card">
            <h3><i class="fas fa-lightbulb"></i> حلول عملية للتغلب على التحديات</h3>
            <div class="support-grid">
                <div class="support-item">
                    <h4><i class="fas fa-file-word"></i> بدائل PDF</h4>
                    <p>استخدمي ملفات Word أو PowerPoint بدلاً من PDF للغة العربية</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-edit"></i> إضافة النصوص يدوياً</h4>
                    <p>أنشئي الصور باستخدام الذكاء الاصطناعي ثم أضيفي النصوص العربية يدوياً</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-check-double"></i> التحقق من المعلومات</h4>
                    <p>تحققي دائماً من دقة المعلومات من مصادر موثوقة قبل استخدامها</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-sync-alt"></i> تحديث المعلومات</h4>
                    <p>استخدمي أدوات متعددة والبحث المباشر للحصول على أحدث المعلومات</p>
                </div>
            </div>
        </div>

        <div class="teacher-support">
            <h3><i class="fas fa-tools"></i> استراتيجيات عملية للتعامل مع التحديات</h3>
            <div class="support-grid">
                <div class="support-item">
                    <h4><i class="fas fa-layer-group"></i> العمل المتعدد الطبقات</h4>
                    <p>استخدمي الذكاء الاصطناعي لتوليد الأفكار والمحتوى الأساسي، ثم قومي بالتعديل يدوياً</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-copy"></i> النسخ واللصق</h4>
                    <p>انسخي النصوص العربية من الذكاء الاصطناعي وألصقيها في التطبيقات المحلية</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-filter"></i> التصفية والمراجعة</h4>
                    <p>راجعي وصفّي مخرجات الذكاء الاصطناعي للتأكد من دقتها ومناسبتها للبيئة اليمنية</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-hands-helping"></i> المشاركة المجتمعية</h4>
                    <p>شاركي الحلول والتجارب الناجحة مع الزميلات لتطوير أفضل الممارسات</p>
                </div>
            </div>
        </div>

        <div class="activity-card">
            <h3><i class="fas fa-tasks"></i> نشاط عملي: التعامل مع التحديات</h3>
            <p>اختاري أحد التحديات التالية واقترحي حلاً عملياً للتعامل معها:</p>
            <ul>
                <li>إنشاء عرض تقديمي عربي باستخدام الذكاء الاصطناعي</li>
                <li>التحقق من دقة معلومات تاريخية عن اليمن</li>
                <li>تصميم نشاط تعليمي باللغة العربية مع صور</li>
            </ul>
            <textarea rows="4" placeholder="اكتبي خطتك العملية للتعامل مع التحدي..."></textarea>
        </div>
        `,
                evaluation: {
                    question: "ما هي أفضل استراتيجية للتعامل مع تحديات اللغة العربية في الذكاء الاصطناعي؟",
                    options: [
                        "التوقف عن استخدام الذكاء الاصطناعي مع النصوص العربية",
                        "استخدام الذكاء الاصطناعي لتوليد المحتوى الأساسي ثم التعديل اليدوي",
                        "الاعتماد الكامل على مخرجات الذكاء الاصطناعي دون مراجعة",
                        "الانتظار حتى تحل الشركات هذه المشاكل"
                    ],
                    correctAnswer: 1
                }
            },
            {
                title: "دورة تحضير الدرس باستخدام الذكاء الاصطناعي",
                icon: "fa-cogs",
                time: "10 دقائق",
                content: `
        <div class="teacher-support">
            <h3><i class="fas fa-clock"></i> مرحلة التحضير - قبل الحصة</h3>
            <div class="support-grid">
                <div class="support-item">
                    <h4><i class="fas fa-lightbulb"></i> توليد أفكار الدروس</h4>
                    <p>استخدمي الذكاء الاصطناعي لاستلهام أفكار مبتكرة للدروس والأنشطة</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-bullseye"></i> تحديد الأهداف التعليمية</h4>
                    <p>مساعدة في صياغة أهداف تعليمية واضحة وقابلة للقياس</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-file-alt"></i> إعداد المحتوى</h4>
                    <p>توليد نصوص، عروض تقديمية، ومواد تعليمية مخصصة</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-tasks"></i> تخطيط الأنشطة</h4>
                    <p>تصميم أنشطة تعلم تفاعلية تناسب مختلف أنماط التعلم</p>
                </div>
            </div>
        </div>

        <div class="teacher-support">
            <h3><i class="fas fa-chalkboard-teacher"></i> مرحلة التنفيذ - أثناء الحصة</h3>
            <div class="support-grid">
                <div class="support-item">
                    <h4><i class="fas fa-question-circle"></i> توليد الأسئلة التفاعلية</h4>
                    <p>إنشاء أسئلة تفاعلية تلقائية لقياس الفهم</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-users"></i> إدارة الفصل</h4>
                    <p>مساعدة في إدارة المجموعات والتفاعلات الصفية</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-magic"></i> تكييف المحتوى</h4>
                    <p>تكييف المحتوى حسب استجابة الطالبات أثناء الحصة</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-gamepad"></i> أنشطة تفاعلية</h4>
                    <p>إنشاء ألعاب تعليمية تفاعلية فورية</p>
                </div>
            </div>
        </div>

        <div class="teacher-support">
            <h3><i class="fas fa-chart-bar"></i> مرحلة التقويم - بعد الحصة</h3>
            <div class="support-grid">
                <div class="support-item">
                    <h4><i class="fas fa-check-circle"></i> تصحيح الواجبات</h4>
                    <p>مساعدة في تصحيح الواجبات وتقديم ملاحظات مخصصة</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-chart-line"></i> تحليل النتائج</h4>
                    <p>تحليل أداء الطالبات وتحديد مجالات التحسين</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-user-edit"></i> تتبع التقدم</h4>
                    <p>مراقبة تقدم الطالبات وتقديم تقارير فردية</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-comments"></i> التواصل مع الأهل</h4>
                    <p>مساعدة في صياغة رسائل تواصل فعالة مع أولياء الأمور</p>
                </div>
            </div>
        </div>

        <div class="activity-card">
            <h3><i class="fas fa-tasks"></i> نشاط تطبيقي: تحضير درس باستخدام الذكاء الاصطناعي</h3>
            <p>اختاري درساً من المنهج الدراسي، وحددي كيف يمكن للذكاء الاصطناعي مساعدتك في:</p>
            <ul>
                <li>تخطيط الدرس وأهدافه</li>
                <li>إعداد المواد التعليمية</li>
                <li>تصميم الأنشطة الصفية</li>
                <li>تقييم التعلم</li>
            </ul>
            <textarea rows="4" placeholder="اكتبي خطتك لتحضير الدرس باستخدام الذكاء الاصطناعي..."></textarea>
        </div>
        `,
                evaluation: {
                    question: "ما الفائدة الرئيسية لاستخدام الذكاء الاصطناعي في مرحلة تحضير الدرس؟",
                    options: [
                        "إلغاء الحاجة للتخطيط",
                        "توفير الوقت وإثراء المحتوى التعليمي",
                        "استبدال الخبرة التربوية",
                        "جعل التحضير أكثر تعقيداً"
                    ],
                    correctAnswer: 1
                }
            },
            {
                title: "الذكاء الاصطناعي وتصميم الأنشطة التفاعلية",
                icon: "fa-puzzle-piece",
                time: "7 دقائق",
                content: `
        <p><strong>كيفية استخدام الذكاء الاصطناعي لإنشاء أنشطة تفاعلية تناسب كل صف:</strong></p>
        <ul>
          <li>إنشاء ألعاب تعليمية ذكية تناسب المراحل العمرية المختلفة</li>
          <li>تصميم أنشطة تفاعلية باستخدام أدوات مجانية</li>
          <li>تكييف الأنشطة حسب احتياجات الطالبات</li>
        </ul>
        
        <div class="activity-card">
          <h3><i class="fas fa-tasks"></i> نشاط تصميم الأنشطة</h3>
          <p>صممي نشاطاً تفاعلياً باستخدام الذكاء الاصطناعي لدرس من اختيارك، مع تحديد الصف والهدف التعليمي.</p>
          <textarea rows="2" placeholder="اكتبي فكرة النشاط التفاعلي..."></textarea>
        </div>
        `,
                evaluation: {
                    question: "ما الفائدة الرئيسية من استخدام الذكاء الاصطناعي في تصميم الأنشطة التعليمية؟",
                    options: [
                        "زيادة وقت التحضير للمعلم",
                        "توفير وقت المعلم وتقديم أنشطة مخصصة",
                        "جعل الأنشطة أكثر تعقيداً",
                        "تقليل تفاعل الطلاب"
                    ],
                    correctAnswer: 1
                }
            },
            {
                title: "تقييم الطالبات باستخدام الذكاء الاصطناعي",
                icon: "fa-chart-line",
                time: "6 دقائق",
                content: `
        <p><strong>أدوات ذكية لتحليل نقاط القوة والضعف لدى الطالبات:</strong></p>
        <ul>
          <li>إنشاء اختبارات تقييمية مخصصة لكل طالبة</li>
          <li>متابعة التقدم الدراسي بشكل فردي وجماعي</li>
          <li>تحليل نتائج التقييم وتقديم توصيات مخصصة</li>
        </ul>
        
        <div class="activity-card">
          <h3><i class="fas fa-clipboard-check"></i> نشاط التقييم الذكي</h3>
          <p>كيف يمكن استخدام الذكاء الاصطناعي لتقييم طالبة تواجه صعوبة في مادة الرياضيات؟ اذكري ثلاث طرق.</p>
          <textarea rows="2"></textarea>
        </div>
        
        <div class="tip-box"><i class="fas fa-lightbulb"></i>
        الذكاء الاصطناعي يمكنه تحليل أنماط الأخطاء وتقديم تقارير مفصلة عن أداء الطالبات!
        </div>
        `,
                evaluation: {
                    question: "كيف يمكن للذكاء الاصطناعي مساعدة المعلم في تقييم الطلاب؟",
                    options: [
                        "استبدال المعلم في التقييم تماماً",
                        "تحليل أنماط الأخطاء وتقديم تقارير مفصلة",
                        "منح درجات عالية للجميع",
                        "إلغاء الحاجة للتقييم"
                    ],
                    correctAnswer: 1
                }
            },
            {
                title: "الذكاء الاصطناعي وذوي الاحتياجات الخاصة",
                icon: "fa-universal-access",
                time: "6 دقائق",
                content: `
        <p><strong>تكييف المناهج للطالبات ذوات صعوبات التعلم:</strong></p>
        <ul>
          <li>أدوات مساعدة للطالبات الموهوبات</li>
          <li>استراتيجيات دمج الطالبات بمختلف قدراتهن</li>
          <li>تخصيص المحتوى التعليمي حسب الاحتياجات الفردية</li>
        </ul>
        
        <div class="activity-card">
          <h3><i class="fas fa-heart"></i> نشاط التكييف</h3>
          <p>تخيلي أن لديكِ طالبة موهوبة في الصف الخامس تحتاج إلى مواد إثرائية، وطالبة أخرى تواجه صعوبات في القراءة. كيف يمكن للذكاء الاصطناعي مساعدتك في تلبية احتياجاتهما المختلفة؟</p>
          <textarea rows="2"></textarea>
        </div>
        `,
                evaluation: {
                    question: "ما الفائدة الرئيسية لاستخدام الذكاء الاصطناعي مع ذوي الاحتياجات الخاصة؟",
                    options: [
                        "تجاهل احتياجاتهم الخاصة",
                        "توفير تعليم مخصص يناسب احتياجات كل طالب",
                        "جعل التعليم أكثر صعوبة",
                        "زيادة العبء على المعلم"
                    ],
                    correctAnswer: 1
                }
            },
            {
                title: "الذكاء الاصطناعي وإدارة الفصل الدراسي",
                icon: "fa-users",
                time: "8 دقائق",
                content: `
        <div class="teacher-support">
            <h3><i class="fas fa-user-clock"></i> إدارة الوقت والموارد</h3>
            <div class="support-grid">
                <div class="support-item">
                    <h4><i class="fas fa-calendar"></i> تخطيط الجدول الدراسي</h4>
                    <p>مساعدة في إنشاء جداول دراسية متوازنة تراعي الفروق الفردية</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-tasks"></i> تنظيم المهام</h4>
                    <p>إدارة وتنظيم المهام اليومية والأسبوعية للمعلم والطلاب</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-chart-pie"></i> توزيع الموارد</h4>
                    <p>تحسين توزيع الموارد والأنشطة حسب احتياجات الطلاب</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-bell"></i> التذكيرات الآلية</h4>
                    <p>إنشاء نظام تذكيرات للمواعيد والموارد المهمة</p>
                </div>
            </div>
        </div>

        <div class="teacher-support">
            <h3><i class="fas fa-comments"></i> التواصل الفعال</h3>
            <div class="support-grid">
                <div class="support-item">
                    <h4><i class="fas fa-envelope"></i> التواصل مع أولياء الأمور</h4>
                    <p>صياغة رسائل تواصل فعالة ومخصصة مع أولياء الأمور</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-bullhorn"></i> الإعلانات الصفية</h4>
                    <p>إنشاء إعلانات وأنشطة تواصل صفية جذابة</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-file-invoice"></i> التقارير الشهرية</h4>
                    <p>توليد تقارير أداء شهرية مفصلة للطلاب</p>
                </div>
                <div class="support-item">
                    <h4><i class="fas fa-handshake"></i> الاجتماعات</h4>
                    <p>تحضير جدول أعمال ومواد للاجتماعات المدرسية</p>
                </div>
            </div>
        </div>

        <div class="activity-card">
            <h3><i class="fas fa-cogs"></i> نشاط إداري</h3>
            <p>كيف يمكن للذكاء الاصطناعي مساعدتك في إدارة الفصل الدراسي بشكل أكثر كفاءة؟ اذكري ثلاثة تطبيقات عملية.</p>
            <textarea rows="3" placeholder="اكتبي أفكارك حول استخدام الذكاء الاصطناعي في إدارة الفصل..."></textarea>
        </div>
        `,
                evaluation: {
                    question: "ما الفائدة الأساسية لاستخدام الذكاء الاصطناعي في إدارة الفصل الدراسي؟",
                    options: [
                        "استبدال دور المعلم في الإدارة",
                        "تحسين كفاءة العمليات الإدارية وتوفير الوقت",
                        "تعقيد المهام الإدارية",
                        "تقليل التواصل مع الطلاب"
                    ],
                    correctAnswer: 1
                }
            },
            {
                title: "الذكاء الاصطناعي والتعلم الشخصي",
                icon: "fa-user-cog",
                time: "5 دقائق",
                content: `
        <p>
        <strong>ما هو التعلم المصمم خصيصاً للفرد؟</strong> 
        <br>أنظمة تقترح دروس أو واجبات مخصصة بناءً على مستوى الطالبة ونتائجها.
        <br><b>مثال:</b> منصة تقترح لطالبة متعثرة تمارين علاجية وتحفيزية.
        </p>
        <div class="activity-card">
          <h3><i class="fas fa-user"></i> نشاط شخصية طالبة</h3>
          <p>اختاري طالبة (وصف مبسط)، وتخيلي كيف سيقترح لها الذكاء الاصطناعي خطة تعلم خاصة.</p>
          <textarea rows="1"></textarea>
        </div>
        `,
                evaluation: {
                    question: "ما الميزة الرئيسية للتعلم الشخصي باستخدام الذكاء الاصطناعي؟",
                    options: [
                        "توفير تعليم مخصص يناسب احتياجات وقدرات كل طالب",
                        "جعل التعليم موحداً للجميع",
                        "تقليل تفاعل الطالب",
                        "زيادة العبء على المعلم"
                    ],
                    correctAnswer: 0
                }
            },
            {
                title: "استخدام الأدوات التعليمية المجانية",
                icon: "fa-rocket",
                time: "7 دقائق",
                content: `
        <ul>
          <li><b>ChatGPT:</b> تلخيص، تطوير أسئلة تفاعلية، اقتراح انشطة.</li>
          <li><b>Bing AI:</b> بحث ذكي وملخصات فورية.</li>
          <li><b>Canva AI:</b> تصميم أنشطة وملصقات تعليمية بضغطة زر.</li>
          <li><b>Kahoot:</b> ألعاب ومسابقات مدعومة بالتوصيات.</li>
        </ul>
        <div class="activity-card">
          <h3><i class="fas fa-mouse"></i> جربي بنفسك</h3>
          <p>اكتبي هدف درس ثم اختاري أداة للحصول على نشاط أو ملخص.</p>
          <input type="text" placeholder="هدف الدرس...">
          <select>
            <option>ChatGPT</option>
            <option>Bing AI</option>
            <option>Canva AI</option>
            <option>Kahoot</option>
          </select>
        </div>
        `,
                evaluation: {
                    question: "ما الفائدة من استخدام أدوات الذكاء الاصطناعي المجانية في التعليم؟",
                    options: [
                        "توفير الوقت والجهد في إعداد المواد التعليمية",
                        "استبدال المعلم تماماً",
                        "جعل العملية التعليمية أكثر تعقيداً",
                        "تقليل كفاءة التعليم"
                    ],
                    correctAnswer: 0
                }
            },
            {
                title: "كتابة Prompts فعالة",
                icon: "fa-pen",
                time: "8 دقائق",
                content: `
        <ul>
          <li>اكتبي طلبك واضحا جدا وحددي صفك وموضوعك وهدفك.</li>
          <li>جربي أكثر من مرة، وعدلي الطلب وقارني النتائج.</li>
        </ul>
        <div class="activity-card">
          <h3><i class="fas fa-edit"></i> إصقلي طلبك (Prompt)</h3>
          <p>عدلي الجملة العامة التالية لتكون أكثر دقة:<br>
            <span class="highlight">"حضّر لي خطة درس."</span>
          </p>
          <textarea rows="1" placeholder="حضّر لي خطة درس رياضيات للصف الثالث، عن مفهوم الضرب، مع تمارين إثرائية."></textarea>
        </div>
        `,
                evaluation: {
                    question: "ما العامل الأكثر أهمية في كتابة prompt فعال للذكاء الاصطناعي؟",
                    options: [
                        "الوضوح والتحديد في الطلب",
                        "استخدام لغة معقدة",
                        "الطلب العام وغير المحدد",
                        "كتابة طلب طويل جداً"
                    ],
                    correctAnswer: 0
                }
            },
            {
                title: "نشاط جماعي تطبيقي: سيناريوهات مدرسية",
                icon: "fa-users-cog",
                time: "15 دقائق",
                content: `
        <p>
        كل مجموعة تعطى سيناريو واقعي من المدرسة:<br>
        <ul>
          <li>مجموعة 1: تصحيح اختبار رياضيات لصف مزدحم بسرعة.</li>
          <li>مجموعة 2: تحضير عرض تقديمي لقصة قصيرة لبنات الصف الرابع.</li>
          <li>مجموعة 3: التواصل مع أمهات طالبات بحاجة متابعة فردية.</li>
        </ul>
        </p>
        <div class="activity-card">
          <h3><i class="fas fa-users"></i> اكتبوا الحل الذكي المقترح لكل سيناريو</h3>
          <textarea rows="2"></textarea>
        </div>
        `,
                evaluation: {
                    question: "ما فائدة النشاط الجماعي في تطبيق مفاهيم الذكاء الاصطناعي؟",
                    options: [
                        "تطبيق المعرفة في مواقف واقعية وتعزيز التعلم التعاوني",
                        "إضاعة الوقت في مناقشات غير مجدية",
                        "تقليل مسؤولية المعلم",
                        "الاستغناء عن التخطيط الفردي"
                    ],
                    correctAnswer: 0
                }
            },
            {
                title: "التقييم والملاحظات",
                icon: "fa-clipboard-check",
                time: "7 دقائق",
                content: `
        <div class="activity-card">
          <h3><i class="fas fa-poll"></i> تقييم تفاعلي</h3>
          <p>في أي موقف مدرسي ستقومين بتجربة الذكاء الاصطناعي مباشرة بعد الدورة؟<br> ما هي العقبة الأولى التي تتوقعينها؟</p>
          <textarea rows="2"></textarea>
        </div>
        `,
                evaluation: {
                    question: "ما الخطوة الأولى التي ستتخذينها لتطبيق ما تعلمتيه في هذه الدورة؟",
                    options: [
                        "تحديد موقف تعليمي محدد وتجربة أداة ذكاء اصطناعي مناسبة",
                        "التوقف عن استخدام الطرق التقليدية فوراً",
                        "انتظار توجيهات الإدارة",
                        "عدم تطبيق أي شيء لصعوبة التغيير"
                    ],
                    correctAnswer: 0
                }
            },
            {
                title: "الأخلاقيات والخصوصية",
                icon: "fa-user-shield",
                time: "5 دقائق",
                content: `
        <p> لا ترفعي بيانات أو صور لطالبات بدون إذن ولي الأمر.<br>
        لا تعتمدي كلياً على نتائج الذكاء الاصطناعي لتقييم مستوى الطالبة.</p>
        <div class="activity-card">
          <h3><i class="fas fa-exclamation-triangle"></i> موقف توعية</h3>
          <p>لو طلبت منك زميلة رفع قائمة بيانات شخصية لطالبات لأداة ذكاء اصطناعي دون إذن، ماذا ستقترحين عليها؟</p>
          <textarea rows="1"></textarea>
        </div>
        `,
                evaluation: {
                    question: "ما المبدأ الأخلاقي الأكثر أهمية عند استخدام الذكاء الاصطناعي في التعليم؟",
                    options: [
                        "حماية خصوصية بيانات الطلاب",
                        "استخدام أحدث التقنيات بغض النظر عن الأخلاقيات",
                        "تقليل التكاليف بأي طريقة",
                        "تحقيق النتائج الأكاديمية فقط"
                    ],
                    correctAnswer: 0
                }
            },
            {
                title: "خطة وتجربة أسبوعية للتطبيق",
                icon: "fa-calendar-check",
                time: "3 دقائق",
                content: `
        <p>حددي تجربة واحدة مع الذكاء الاصطناعي نفذتها/ستنفذينها هذا الأسبوع.
        <br>ما النتيجة؟ وهل وجدت عائقاً؟</p>
        <div class="activity-card">
          <h3><i class="fas fa-calendar"></i> دفتر الإنجاز السريع</h3>
          <textarea rows="2"></textarea>
        </div>
        `,
                evaluation: {
                    question: "ما أهمية وضع خطة تطبيقية بعد انتهاء الدورة؟",
                    options: [
                        "تحويل المعرفة النظرية إلى ممارسة عملية لتحقيق الفائدة",
                        "إنهاء المتطلبات الشكلية للدورة",
                        "إضاعة الوقت في التخطيط",
                        "التقليل من قيمة المعرفة النظرية"
                    ],
                    correctAnswer: 0
                }
            }
        ];

        // تخزين إجابات التقييم
        let userAnswers = Array(slidesData.length).fill(null);
        let userScores = Array(slidesData.length).fill(0);
        
        // توليد الشرائح
        function renderSlides() {
            const sc = document.getElementById('slidesContainer');
            sc.innerHTML = '';
            slidesData.forEach((slide, i) => {
                const div = document.createElement('div');
                div.className = 'slide' + (i === 0 ? ' active' : '');
                div.id = 'slide'+(i+1);
                
                // إضافة قسم التقييم إذا كان موجوداً
                let evaluationHTML = '';
                if (slide.evaluation) {
                    evaluationHTML = `
                    <div class="evaluation-card">
                        <h3><i class="fas fa-star"></i> تقييم فهم الشريحة</h3>
                        <p>${slide.evaluation.question}</p>
                        <div class="quiz-options" id="quizOptions-${i}">
                            ${slide.evaluation.options.map((option, idx) => `
                                <div class="quiz-option" onclick="selectOption(${i}, ${idx})" id="option-${i}-${idx}">
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                        <button class="quiz-submit" onclick="submitAnswer(${i})" id="submit-${i}">
                            <i class="fas fa-paper-plane"></i> تقديم الإجابة
                        </button>
                        <div id="feedback-${i}" style="margin-top: 15px; display: none;"></div>
                    </div>
                    `;
                }
                
                div.innerHTML = `
                    <div class="slide-header">
                        <h2><i class="fas ${slide.icon}"></i> ${slide.title}</h2>
                        <div class="slide-time">الوقت: ${slide.time}</div>
                    </div>
                    <div class="slide-content">${slide.content}</div>
                    ${evaluationHTML}
                    <div class="nav-controls" style="margin-top:24px;">
                        ${i>0 ? '<button onclick="gotoSlide('+(i)+')"><i class=\'fas fa-chevron-right\'></i> السابق</button>':''}
                        ${i<slidesData.length-1 ? '<button onclick="gotoSlide('+(i+2)+')">التالي <i class=\'fas fa-chevron-left\'></i></button>':''}
                    </div>
                `;
                sc.appendChild(div);
            });
            
            // توليد أزرار التنقل
            const nav = document.getElementById('slidesNav');
            nav.innerHTML = '';
            slidesData.forEach((slide, i) => {
                const dot = document.createElement('div');
                dot.className = 'nav-dot' + (i === 0 ? ' active' : '');
                dot.setAttribute('onclick', `gotoSlide(${i+1})`);
                nav.appendChild(dot);
            });
            
            // تحديث قائمة المراجعة
            updateReviewList();
        }
        
        // تحديد خيار في التقييم
        function selectOption(slideIndex, optionIndex) {
            const options = document.querySelectorAll(`#quizOptions-${slideIndex} .quiz-option`);
            options.forEach(opt => opt.classList.remove('selected'));
            document.getElementById(`option-${slideIndex}-${optionIndex}`).classList.add('selected');
            userAnswers[slideIndex] = optionIndex;
        }
        
        // تقديم الإجابة
        function submitAnswer(slideIndex) {
            if (userAnswers[slideIndex] === null) {
                alert('يرجى اختيار إجابة قبل التقديم');
                return;
            }
            
            const feedbackEl = document.getElementById(`feedback-${slideIndex}`);
            const submitBtn = document.getElementById(`submit-${slideIndex}`);
            
            if (userAnswers[slideIndex] === slidesData[slideIndex].evaluation.correctAnswer) {
                feedbackEl.innerHTML = '<div style="color: green; font-weight: bold;"><i class="fas fa-check-circle"></i> إجابة صحيحة! أحسنتِ.</div>';
                userScores[slideIndex] = 1;
            } else {
                feedbackEl.innerHTML = `<div style="color: red; font-weight: bold;"><i class="fas fa-times-circle"></i> إجابة خاطئة. الإجابة الصحيحة هي: ${slidesData[slideIndex].evaluation.options[slidesData[slideIndex].evaluation.correctAnswer]}</div>`;
                userScores[slideIndex] = 0;
            }
            
            feedbackEl.style.display = 'block';
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-check"></i> تم التقديم';
            submitBtn.style.background = '#ccc';
            
            // تحديث الرسم البياني
            updateProgressChart();
        }
        
        // تحديث الرسم البياني
        function updateProgressChart() {
            const totalScore = userScores.reduce((a, b) => a + b, 0);
            const totalQuestions = userScores.length;
            const percentage = Math.round((totalScore / totalQuestions) * 100);
            
            document.getElementById('totalScore').textContent = `${percentage}%`;
            document.getElementById('scoreProgressBar').style.width = `${percentage}%`;
            
            // تحديث الرسم البياني
            const ctx = document.getElementById('progressChart').getContext('2d');
            
            // إذا كان الرسم البياني موجوداً بالفعل، قم بتدميره أولاً
            if (window.progressChart) {
                window.progressChart.destroy();
            }
            
            window.progressChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: slidesData.map((slide, i) => `شريحة ${i+1}`),
                    datasets: [{
                        label: 'التقييم',
                        data: userScores,
                        backgroundColor: userScores.map(score => score === 1 ? 'rgba(78, 84, 200, 0.7)' : 'rgba(255, 126, 95, 0.7)'),
                        borderColor: userScores.map(score => score === 1 ? 'rgba(78, 84, 200, 1)' : 'rgba(255, 126, 95, 1)'),
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 1,
                            ticks: {
                                stepSize: 1,
                                callback: function(value) {
                                    return value === 1 ? 'صحيح' : 'خطأ';
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.parsed.y === 1 ? 'إجابة صحيحة' : 'إجابة خاطئة';
                                }
                            }
                        }
                    }
                }
            });
        }
        
        // التنقل بين الشرائح
        let curSlide = 1;
        function gotoSlide(n) {
            if (n < 1) n = 1;
            if (n > slidesData.length) n = slidesData.length;
            curSlide = n;
            updateSlides();
        }
        
        function updateSlides() {
            Array.from(document.querySelectorAll('.slide')).forEach((el,i) => {
                el.classList.toggle("active", i === curSlide-1);
            });
            
            // تحديث أزرار النقاط
            Array.from(document.querySelectorAll('.nav-dot')).forEach((el,i) => {
                el.classList.toggle("active", i === curSlide-1);
            });
            
            // تحديث شريط التقدم
            document.getElementById('progressBar').style.width = ((curSlide)/slidesData.length*100)+'%';
            
            // تحديث قائمة المراجعة
            updateReviewList();
        }
        
        // إدارة قائمة المراجعة
        function updateReviewList() {
            const list = document.getElementById('slideMiniList');
            list.innerHTML = '';
            slidesData.forEach((slide, i) => {
                const li = document.createElement('li');
                li.textContent = `${i+1}. ${slide.title}`;
                li.className = i === curSlide-1 ? 'active' : '';
                if (userScores[i] === 1) {
                    li.style.background = 'rgba(39, 174, 96, 0.2)';
                    li.style.borderRight = '3px solid #27ae60';
                } else if (userAnswers[i] !== null) {
                    li.style.background = 'rgba(231, 76, 60, 0.2)';
                    li.style.borderRight = '3px solid #e74c3c';
                }
                li.onclick = () => {
                    gotoSlide(i+1);
                    closeReview();
                };
                list.appendChild(li);
            });
        }
        
        function closeReview() {
            document.getElementById('reviewPanel').classList.remove('active');
        }
        
        // إدارة اختيار المرحلة الدراسية
        document.getElementById('gradeSelect').addEventListener('change', function() {
            const value = this.value;
            
            // إخفاء جميع موارد المراحل
            document.querySelectorAll('.grade-resources').forEach(el => {
                el.classList.remove('active');
            });
            
            // إظهار الموارد المحددة
            if (value === 'all') {
                document.getElementById('allResources').classList.add('active');
            } else {
                document.getElementById(value + 'Resources').classList.add('active');
            }
        });
        
        // إدارة زر المراجعة
        document.getElementById('reviewBtn').addEventListener('click', function() {
            document.getElementById('reviewPanel').classList.toggle('active');
        });
        
        // تبديل السمة
        document.getElementById('themeToggle').addEventListener('click', function() {
            document.body.classList.toggle('dark-mode');
            const icon = this.querySelector('i');
            if (document.body.classList.contains('dark-mode')) {
                icon.className = 'fas fa-sun';
                document.body.style.background = 'linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)';
                document.body.style.color = '#f0f0f0';
            } else {
                icon.className = 'fas fa-moon';
                document.body.style.background = 'linear-gradient(135deg, var(--light) 0%, #e1effa 100%)';
                document.body.style.color = 'var(--secondary)';
            }
        });
        
        // تهيئة الصفحة
        renderSlides();
        updateSlides();
        updateProgressChart();
    </script>
</body>
</html>
